{"id":"6339c48c7395240020b6072e","title":"@squoosh/lib で png => webp へプログラマブル変換","image":null,"created":1664730253,"updated":1664730257,"lines":[{"id":"6339c48c7395240020b6072e","text":"@squoosh/lib で png => webp へプログラマブル変換","created":1664730253,"updated":1664730253},{"id":"6339c48c4ade4d00002624fd","text":"from [20220930] #0930","created":1664730253,"updated":1664730257},{"id":"6339c48c4ade4d00002624fe","text":"@squoosh/lib で [png] => [webp] へプログラマブル変換","created":1664730253,"updated":1664730253},{"id":"6339c48c4ade4d00002624ff","text":"\t[Squoosh] 便利なのでよく使っているが、さすがに何十枚と素材がある時にいちいち [GUI] で操作して加工するのは面倒だったのでぱぱっとスクリプトを書いてまるっと加工できるか試してみる","created":1664730253,"updated":1664730253},{"id":"6339c48c4ade4d0000262500","text":"\t\t[cli]版や lib があるのは知っていた","created":1664730253,"updated":1664730253},{"id":"6339c48c4ade4d0000262501","text":"\thttps://github.com/e-jigsaw/squoosh-sandbox","created":1664730253,"updated":1664730253},{"id":"6339c48c4ade4d0000262502","text":"\t最近 [deno] でばかりコード書いてるので、[node] 向けにリポジトリ作成すると [ts] を書こうとした瞬間に UGHAAA ってなってしまうので、deno で squoosh/lib を使えないか試してみたが、esm.sh を経由しても unstable で `npm:@squoosh/lib` としてみてもどうやらランタイムが node かブラウザか判定する部分があるっぽくて、deno だとなぜかブラウザだと判定されてしまいダメだった","created":1664730253,"updated":1664730253},{"id":"6339c48c4ade4d0000262503","text":"\t仕方ないので [js] でささっとコードを書く...","created":1664730253,"updated":1664730253},{"id":"6339c48c4ade4d0000262504","text":"\tnode 固有の事情を知るのが最近バカらしいとおもってあまり知らないことにしているが、`fs/promises` を import すると [promise] でラップされた [fs] まわりの関数が引いてこれて便利だった","created":1664730253,"updated":1664730253},{"id":"6339c48c4ade4d0000262505","text":"\tいまいちドキュメントがうすいので地道に挙動を確かめながら適当に...","created":1664730253,"updated":1664730253},{"id":"6339c48c4ade4d0000262506","text":"","created":1664730253,"updated":1664730253}]}