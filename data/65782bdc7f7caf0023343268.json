{"id":"65782bdc7f7caf0023343268","title":"20231212","image":null,"created":1702374368,"updated":1702375368,"lines":[{"id":"65782bdc7f7caf0023343268","text":"20231212","created":1702374368,"updated":1702374368},{"id":"65782bdf4ade4d000013b2f8","text":"#1212","created":1702374368,"updated":1702374368},{"id":"65782bdf4ade4d000013b2f9","text":"","created":1702374368,"updated":1702374368},{"id":"65782be04ade4d000013b2fa","text":"Storybook + msw + play function で test-runner でだけ msw のモックが効かない","created":1702374368,"updated":1702375002},{"id":"65782e5a4ade4d000013b2fd","text":"\tStorybook の play function が jest ベースから vitest ベースになっていよいよイイ感じになってきた","created":1702375003,"updated":1702375038},{"id":"65782e7d4ade4d000013b2fe","text":"\t\t余談だけど、next 環境で swc が有効になったのも嬉しい、体感でわかるぐらいビルドが速くなった気がする","created":1702375038,"updated":1702375074},{"id":"65782ea24ade4d000013b2ff","text":"\tで、play function で testing-library 絡めたテストを書いてると、やっぱり API リクエストをモックしたくなるよねってことで重い腰をあげて msw をいれた","created":1702375075,"updated":1702375202},{"id":"65782f244ade4d000013b300","text":"\t\t今までは react-query のキャッシュをモックして API リクエストのモック相当としていたんだけど、play 側から render の中を触れないので不便だなと","created":1702375205,"updated":1702375260},{"id":"65782f5c4ade4d000013b301","text":"\tmsw の storybook の plugin をいれたんだけど、ここは結構罠で msw は v2 だと動かなかった","created":1702375261,"updated":1702375368},{"id":"65782be04ade4d000013b2fb","text":"","created":1702374368,"updated":1702374368},{"id":"65782be04ade4d000013b2fc","text":"","created":1702374368,"updated":1702374368}]}