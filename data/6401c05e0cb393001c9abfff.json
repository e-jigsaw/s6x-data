{"id":"6401c05e0cb393001c9abfff","title":"ディスクまわりを試す","image":null,"created":1677836382,"updated":1677836386,"lines":[{"id":"6401c05e0cb393001c9abfff","text":"ディスクまわりを試す","created":1677836382,"updated":1677836382},{"id":"6401c05e4ade4d000059fbb0","text":"from [20230302] #0302","created":1677836382,"updated":1677836386},{"id":"6401c05e4ade4d000059fbb1","text":"ディスクまわりを試す","created":1677836382,"updated":1677836382},{"id":"6401c05e4ade4d000059fbb2","text":"\t[ZFS] ってやつを試してみたかったので、[Proxmox] をインストールしたマシンのディスクのパーティションを分割することに","created":1677836382,"updated":1677836382},{"id":"6401c05e4ade4d000059fbb3","text":"\tマウント中のディスクはいじれないそうなので、[Ubuntu] のUSBメモリを作って、USB からブートして[Gparted] っていう GUI でパーティションの設定を変更できるソフトで変更すると簡単だった","created":1677836382,"updated":1677836382},{"id":"6401c05e4ade4d000059fbb4","text":"\tzfs では pool を作るのに最低2つ必要とのことだったので適当に [M.2] を分割した","created":1677836382,"updated":1677836382},{"id":"6401c05e4ade4d000059fbb5","text":"\t`ls -lh /dev/disk/by-id/` で id を調べて、`zpool create` に引数として渡したら作成できた","created":1677836382,"updated":1677836382},{"id":"6401c05e4ade4d000059fbb6","text":"\tProxmox 側からも認識されていて、Datacenter => Storage から Add => ZFS とすると作成した ZFS に VM に渡すディスクを作成したりできるようになった","created":1677836382,"updated":1677836382},{"id":"6401c05e4ade4d000059fbb7","text":"","created":1677836382,"updated":1677836382}]}