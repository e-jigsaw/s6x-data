{"id":"5c3c04e1be23a10017086e74","title":"#kosenvj を支える技術(フロント編) - dev.jgs.me","image":null,"created":1417359600,"updated":1575208655,"lines":[{"id":"5c3c04e14ade4d0000c9decd","text":"#kosenvj を支える技術(フロント編) - dev.jgs.me","created":1417359600,"updated":1417359600},{"id":"5c6c7fa84ade4d00004c994f","text":"> #kosenvj を支える技術という記事がそろそろ出てきて良いと思う @neo6120 @sora_h #kosendj","created":1550614441,"updated":1550614442},{"id":"5c3c04e14ade4d0000c9decf","text":"[https://twitter.com/asonas/status/538995926514167808 https://twitter.com/asonas/status/538995926514167808]","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9ded0","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9ded1","text":"顧問が書けって言ってるので書く。","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9ded2","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9ded3","text":"[http://kosendj-bu.in/ http://kosendj-bu.in/]","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9ded4","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9ded5","text":"[高専DJ部]という[部活動]で[副部長]をやっていて、[勝手に自分がエモくなる話]をして勝手に泣いたり[GIF]で[VJ]をしたりしている。#1では[tumblr]と連動させたシステムを構築したけれど、いまいち不評だったのとそのときにVJをしていた @[mactkg] が不在だったので[フルスクラッチ]した経緯のものです。","created":1417359600,"updated":1575208585},{"id":"5c3c04e14ade4d0000c9ded6","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9ded7","text":"[https://github.com/kosendj/gj https://github.com/kosendj/gj]","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9ded8","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9ded9","text":"GIF-Jockey部でGJ(bu)。安直な[ネーミング]である。","created":1417359600,"updated":1550614488},{"id":"5c3c04e14ade4d0000c9deda","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9dedb","text":"大まかな流れとしては","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9dedc","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9dedd","text":" 1. 誰かがGIFの[URL]を投稿する","created":1417359600,"updated":1550614492},{"id":"5c3c04e14ade4d0000c9dede","text":" 2. バックエンドでGIFかどうかを確認する","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9dedf","text":" 3. GIFだったらURLを[Redis]につっこむ","created":1417359600,"updated":1550614497},{"id":"5c3c04e14ade4d0000c9dee0","text":" 4. それをトリガーに[Websocket]でスクリーンに通知おくる","created":1417359600,"updated":1550614499},{"id":"5c3c04e14ade4d0000c9dee1","text":" 5. スクリーン側は[キュー]を更新する","created":1417359600,"updated":1550614503},{"id":"5c3c04e14ade4d0000c9dee3","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9dee4","text":"というフローでGIFが追加されるのでスクリーン側ではそれを[ランダム]に差し替えることでVJっぽいことをしている。このあたりはあまりつっこんだことをしていなくて、どちらかというと @[sorah] がキャッシュとかいろいろがんばってくれてるのでその辺のことは任せたい。今度は箱に[ネットワーク構築]してGIF配信するみたいなこと言ってたので期待。","created":1417359600,"updated":1575208593},{"id":"5c3c04e14ade4d0000c9dee5","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9dee6","text":"[**** フロント側でがんばっているところ]","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9dee8","text":"[*** エフェクト]","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9deea","text":"[フロント]側でたぶん一番いいところはGIFのエフェクトを[CSS]でかけてるとこだとおもう。[CSS3]のフィルタを適当に調べて、使えそうなやつをピックアップしてランダムに効果をかけることでエフェクトを反映している。","created":1417359600,"updated":1550614532},{"id":"5c3c04e14ade4d0000c9deeb","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9deec","text":"[https://github.com/kosendj/gj/blob/master/public/js/screen.coffee#L2-L45 https://github.com/kosendj/gj/blob/master/public/js/screen.coffee#L2-L45]","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9deed","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9deee","text":"こんな感じ。(すげー雑)","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9deef","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9def0","text":"最初はGIFの[バイナリ]を書き換えようとしてたんだけどめんどくさすぎて断念した。CSSフィルタ最高！！切り替えは `opacity` を切り替えるので対応してるだけなので、もうちょい[アニメーション]な感じにしたいとおもっていたりいなかったり。","created":1417359600,"updated":1550614545},{"id":"5c3c04e14ade4d0000c9def1","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9def2","text":"[*** GIFの表示]","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9def4","text":"GIFの加工や速度調整は最初につっかかった関門で、更新が腐ってたりとか[Node]でしか使えなかったりするやつが多くていろいろ試行錯誤した結果[x-gif http://geelen.github.io/x-gif]に落ち着いた。ただこれでも結構かゆいところに手が届かないことがままあるのでなんとかしたいとはおもっている。","created":1417359600,"updated":1550614553},{"id":"5c3c04e14ade4d0000c9def5","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9def6","text":"[*** UI]","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9def8","text":"シンプルイズベストな感じでモバイルを念頭につくった。`README` のGIF等を参照のこと。","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9def9","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9defa","text":"Viewのフレームワークに[Vue.js]を使っているだけであとは特になにもいれてない。[Ajax]とCSSの値いじったりするのに[jQuery]を使っているくらい。","created":1417359600,"updated":1575208627},{"id":"5c3c04e14ade4d0000c9defb","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9defc","text":"[*** GIFの選定]","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9defe","text":"当日はひたすらGIFを探してつっこむのが仕事になる。アニメ方面はこれはまた @sorah に任せているので自分は[Hardcore]がかかったときに[Party Hard]投げたり、VJっぽいループ素材を投げたりしている。だいたい[Giphy]かTumblrあたりで素材探しは事足りている。[Chrome]でポイポイ投げられる拡張つくろうかとおもったけど、普通にコピペするだけでいいので特になんの工夫もしていない。","created":1417359600,"updated":1550614596},{"id":"5c3c04e14ade4d0000c9deff","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9df00","text":"[*** ハッシュタグ付きのツイートを流す]","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9df02","text":"[部長]の要請で[スクリーン]に[ハッシュタグ付きのツイート]を流す機能をつけた。もともとコメント流すように作ったやつの流用である。ここもWebsocketを使ったりしている。","created":1417359600,"updated":1550614612},{"id":"5c3c04e14ade4d0000c9df03","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9df04","text":"[**** おわりに]","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9df06","text":"お手軽にVJっぽいものをするという面ではGIF-Jockey部とても便利。まだまだ開発途上なのでこれからも[イベントドリブン]で(jsだけに)開発を続けていきます。","created":1417359600,"updated":1550614624},{"id":"5c3c04e14ade4d0000c9df07","text":"","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9df08","text":"[* original: http://dev.jgs.me/2014/12/01/the-technology-behind-vj]","created":1417359600,"updated":1417359600},{"id":"5c3c04e14ade4d0000c9df09","text":"#20141201 #1201","created":1417359600,"updated":1575208655},{"id":"5c6c80664ade4d00004c9950","text":"","created":1550614631,"updated":1550614631},{"id":"5c6c80674ade4d00004c9951","text":"\tこれも5年前かあ... #20190220","created":1550614631,"updated":1550614636},{"id":"5c6c80674ade4d00004c9952","text":"","created":1550614631,"updated":1550614631}]}