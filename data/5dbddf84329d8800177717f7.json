{"id":"5dbddf84329d8800177717f7","title":"Scrapbox の閲覧数を Pixela で記録する","image":"https://pixe.la/v1/users/jgs/graphs/sbv.svg","created":1572724616,"updated":1572726314,"lines":[{"id":"5dbddf84329d8800177717f7","text":"Scrapbox の閲覧数を Pixela で記録する","created":1572724616,"updated":1572724648},{"id":"5dbde1b74ade4d000030ec46","text":"[https://pixe.la/v1/users/jgs/graphs/sbv.svg]","created":1572725176,"updated":1572725183},{"id":"5dbddfa84ade4d000030ec3c","text":"\t元ネタは[Scrapbox への更新がどれくらい活発におこなわれているかを Pixela で可視化する - えいのうにっき]","created":1572724649,"updated":1572724677},{"id":"5dbddfc84ade4d000030ec40","text":"\t\t自分は更新の方は日付とかもろもろの方で活性は分かるとおもった","created":1572724680,"updated":1572725418},{"id":"5dbde02c4ade4d000030ec41","text":"\t\t一方で、閲覧数は [Scrapbox] が巧妙にそれを隠すというか、見られる/アクセスがたくさんくるというところに重きを置いてないのは重々分かっている","created":1572724780,"updated":1572725420},{"id":"5dbde10d4ade4d000030ec42","text":"\t\thttps://pixe.la/v1/users/june29/graphs/scrapbox-june29v.html を見て、やっぱりそういうのもいいなとおもったので記録する仕組みをつくった","created":1572725006,"updated":1572725423},{"id":"5dbde1144ade4d000030ec43","text":"\t\t\tこのスクボから錬成している https://amp.kbys.tk は [Google Analytics] が入っているのでだいたい分かるようになっている","created":1572725012,"updated":1572725426},{"id":"5dbde13d4ade4d000030ec44","text":"\t\t\tスクボ自体はページにいって i を押さないとわからない状態だった","created":1572725053,"updated":1572725428},{"id":"5dbde15a4ade4d000030ec45","text":"","created":1572725082,"updated":1572725266},{"id":"5dbde2114ade4d000030ec47","text":"\t[Scrapbox を中心にしたコンテンツ生成]に書いたが、このスクボを基に毎朝バッチで [html] を錬成している","created":1572725266,"updated":1572725297},{"id":"5dbde61b4ade4d000076e4e7","text":"\t\t[GitHub Actions] の cron でやっている","created":1572726299,"updated":1572726314},{"id":"5dbde2324ade4d000030ec48","text":"\tその際に全ページの views も記録されているので、集計して前日の総数と差分をとってその日の閲覧数とした","created":1572725299,"updated":1572725342},{"id":"5dbde2804ade4d000030ec49","text":"\t\tコードは https://github.com/kbystk/amp/blob/7b5ed38c9480145d64080b3c472f410749bdc79c/views.js","created":1572725376,"updated":1572725385},{"id":"5dbde2894ade4d000030ec4a","text":"\t\t\tこんな感じ","created":1572725385,"updated":1572725390},{"id":"5dbde2dc4ade4d000030ec4b","text":"\t\t\tTZ の関係でちょっと微妙なコードになってるけど妥協で...","created":1572725468,"updated":1572725482},{"id":"5dbddfa84ade4d000030ec3d","text":"","created":1572724649,"updated":1572724649},{"id":"5dbde3004ade4d000030ec4c","text":"\t[views] といページを切って pin しておいた","created":1572725505,"updated":1572725516},{"id":"5dbde3014ade4d000030ec4d","text":"","created":1572725505,"updated":1572725505},{"id":"5dbddfa84ade4d000030ec3e","text":"#20191103 #1103","created":1572724649,"updated":1572724651},{"id":"5dbddfa94ade4d000030ec3f","text":"","created":1572724649,"updated":1572724649}]}