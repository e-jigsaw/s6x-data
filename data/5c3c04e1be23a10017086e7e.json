{"id":"5c3c04e1be23a10017086e7e","title":"atomのgrammarの構文がいまいちよく分からない - dev.jgs.me","image":null,"created":1422630000,"updated":1567608197,"lines":[{"id":"5c3c04e14ade4d0000c9e1fa","text":"atomのgrammarの構文がいまいちよく分からない - dev.jgs.me","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e1fc","text":"[https://github.com/e-jigsaw/atom-jade/blob/ac7246406c9a1753cef1403ec16025150315ce68/grammars/jade.cson https://github.com/e-jigsaw/atom-jade/blob/ac7246406c9a1753cef1403ec16025150315ce68/grammars/jade.cson]","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e1fd","text":"","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e1fe","text":"[Atom] の [language-jade] で [coffeescript] が[シンタックスハイライト]されなくて困ったなあとなったのでとりあえず直してみることにしたら意外と大変だった。","created":1422630000,"updated":1567608168},{"id":"5c3c04e14ade4d0000c9e1ff","text":"","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e200","text":"code: (jade)","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e201","text":" some","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e202","text":"   script(type='text/coffeescript').","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e203","text":"     x = 100","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e204","text":"     x.toString()","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e205","text":"","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e206","text":"こういうやつ。元々 JavaScript のコードをハイライトさせるやつはあったから、それの JS になってる部分を Coffee に変えればいいや、とおもってコピペしてそれっぽく `source.coffee` に変えるとハイライトされるようにはなった。","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e207","text":"","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e208","text":"が、","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e209","text":"","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e20a","text":"code: (jade)","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e20b","text":" some","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e20c","text":" ","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e20d","text":"   script(type='text/coffeescript').","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e20e","text":"     x = 100","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e20f","text":"     x.toString()","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e210","text":"","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e211","text":"みたいな感じで改行が入ると [tag.jade https://github.com/e-jigsaw/atom-jade/blob/ac7246406c9a1753cef1403ec16025150315ce68/grammars/jade.cson#L295] と認識されてハイライトされなくなって困った。試行錯誤してみると [https://github.com/e-jigsaw/atom-jade/blob/ac7246406c9a1753cef1403ec16025150315ce68/grammars/jade.cson#L927-L959 https://github.com/e-jigsaw/atom-jade/blob/ac7246406c9a1753cef1403ec16025150315ce68/grammars/jade.cson#L927-L959] こんな感じで `repository` に追加して [https://github.com/e-jigsaw/atom-jade/blob/ac7246406c9a1753cef1403ec16025150315ce68/grammars/jade.cson#L316 https://github.com/e-jigsaw/atom-jade/blob/ac7246406c9a1753cef1403ec16025150315ce68/grammars/jade.cson#L316] を付け足してやるとなんとなく動くようになったので一旦これでいくことにした。","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e212","text":"","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e213","text":"とはいえ[正規表現]が雑なので","created":1422630000,"updated":1567608186},{"id":"5c3c04e14ade4d0000c9e214","text":"","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e215","text":"code: (jade)","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e216","text":" some","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e217","text":" ","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e218","text":"   script(type='text/coffeescript', data='hoge').","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e219","text":"     x = 100","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e21a","text":"     x.toString()","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e21b","text":"","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e21c","text":"みたいなことされると死ぬ。あと `(type='text/coffeescript')` のところがハイライトされない問題も抱えている。TextMate の構文をそのまま持ってきているらしいけど、絶望的に分かりにくくてめっちゃつらかった。かといってこの辺の知見全くないのでどうこうできるアレもなく...。","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e21d","text":"","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e21e","text":"[* original: http://dev.jgs.me/2015/01/31/can-not-understand-atom-grammar-structure]","created":1422630000,"updated":1422630000},{"id":"5c3c04e14ade4d0000c9e21f","text":"#20150131 #0131","created":1422630000,"updated":1567608197},{"id":"5d6fcd804ade4d0000650d62","text":"","created":1567608194,"updated":1567608194}]}