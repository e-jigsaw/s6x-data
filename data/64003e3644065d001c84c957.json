{"id":"64003e3644065d001c84c957","title":"20230302","image":null,"created":1677737530,"updated":1677777663,"lines":[{"id":"64003e3644065d001c84c957","text":"20230302","created":1677737530,"updated":1677737530},{"id":"64003e394ade4d0000156103","text":"#0302","created":1677737530,"updated":1677737530},{"id":"64003e394ade4d0000156104","text":"","created":1677737530,"updated":1677737530},{"id":"6400d6b84ade4d00003c186d","text":"画像セルホスいくつか試してみたが.....","created":1677776569,"updated":1677776587},{"id":"6400d6ca4ade4d00003c186f","text":"\t最初シンプルそうでいいなとおもったのが [Picsur] で [Imgur] インスパイアっぽい","created":1677776587,"updated":1677776618},{"id":"6400d6ea4ade4d00003c1870","text":"\t\tid が [uuid] だったので、ファイルのハッシュを id にするように変えられないかなーとおもったんだけど [QOI] という謎フォーマットのラッパライブラリが [node-gyp] でインストールに失敗する問題を踏み、[mac] で開発できね〜〜〜となってしまった","created":1677776619,"updated":1677776725},{"id":"6400d7564ade4d00003c1871","text":"\t\t\t[Proxmox] の VM に展開して [VSCode] でつないだ方がいいのかも","created":1677776726,"updated":1677776746},{"id":"6400d76b4ade4d00003c1872","text":"\t\tシンプルさはイイ","created":1677776747,"updated":1677776756},{"id":"6400d7744ade4d00003c1873","text":"\t[PhotoPrism] は UI はそこそこ洗練されてるし、[Google Photos] みたいに顔識別とかもあるらしい","created":1677776757,"updated":1677776804},{"id":"6400d7a34ade4d00003c1874","text":"\t\tただ、動かしてるマシンでは GPU 積んでないので [TensorFlow] まわりがたぶん動いてなくてその辺は挙動未確認","created":1677776804,"updated":1677776836},{"id":"6400d7c54ade4d00003c1875","text":"\t\tこっちも悪くないんだけど、API が [godoc] 読んでガンバレ！ぐらいしかなくてう〜んという","created":1677776837,"updated":1677776900},{"id":"6400d8044ade4d00003c1876","text":"\t\tアップロードは [WebDAV] が使えるらしいのでアップロードに関しては WebDAV 経由にして、ラベリングとかを簡易 UI を作るのがいいのかもしれない","created":1677776901,"updated":1677776940},{"id":"6400d82d4ade4d00003c1877","text":"\tまあ、ぶっちゃけ [Gyazo] がセルホスできればいいんだけどセルホスで使えそうなコードはだいたい10年モノみたいな風化具合で、さすがに無邪気に使える気がしないので、そういうことならもう自前で作っちゃえばいいんじゃないかという気もしなくもない","created":1677776941,"updated":1677777511},{"id":"6400da0f4ade4d00003c1878","text":"\t実は[コンテントアドレッシング]って [IPFS] 文脈なのでは？とおもってn度めかの IPFS トライしてみたが、やっぱり難しい","created":1677777424,"updated":1677777554},{"id":"6400dac94ade4d00003c187c","text":"\t\tプライベートゲートウェイあったら実は便利なのかなとおもったが.....","created":1677777610,"updated":1677777634},{"id":"6400da9d4ade4d00003c187b","text":"\t\t結局必要そうなのは CID だけで、それなら適当に [WebCrypto] で計算できそう感あるしなあ...","created":1677777565,"updated":1677777648},{"id":"6400daf24ade4d00003c187d","text":"\t\t\t本当は pHash とかを計算できるといいのかもしれんが....","created":1677777650,"updated":1677777663},{"id":"6400d6b84ade4d00003c186e","text":"","created":1677776569,"updated":1677776569},{"id":"64007ec24ade4d00003c1862","text":"[Proxmox] の VM に [code-server] をいれる","created":1677754051,"updated":1677754072},{"id":"64007ed84ade4d00003c1864","text":"\t[VSCode] のリモート接続のパターンで [GitHub] の認証を経由してトンネルを開通してくれるやつがあるらしい","created":1677754073,"updated":1677754105},{"id":"64007f064ade4d00003c1865","text":"\thttps://code.visualstudio.com/blogs/2022/07/07/vscode-server","created":1677754119,"updated":1677754119},{"id":"64007f074ade4d00003c1866","text":"\t指示通りにインストールして `code-server` を起動すると、GitHub の認証コードが発行されるので、それで認証するとブラウザで VM のコンソールが開く","created":1677754119,"updated":1677754178},{"id":"64007f424ade4d00003c1867","text":"\t\tまあこれでも十分だけどネイティブの VSC からアクセスしたい","created":1677754179,"updated":1677754213},{"id":"64007f644ade4d00003c1868","text":"\t\t\tブラウザだと何かとショートカットが奪われるので","created":1677754213,"updated":1677754213},{"id":"64007f664ade4d00003c1869","text":"\t\t[MS] が公開している Remote - Tunnels っていう拡張をいれると、また GitHub の認証導線が出るので、これで認証を済ませると開通しているトンネルが選択できるようになり、無事ネイティブの VSC から開くことができた","created":1677754214,"updated":1677754275},{"id":"64007fa34ade4d00003c186a","text":"\tまあローカル間なので [ssh] でつなげばいいじゃんという気もするんだけど、ssh の設定するのめんどいなーと....","created":1677754276,"updated":1677754371},{"id":"640080064ade4d00003c186b","text":"\tただ、トンネルって一旦インターネットに出てるのか、若干ラグは感じる","created":1677754374,"updated":1677754400},{"id":"6400c7124ade4d00003c186c","text":"\tあとまあまあな頻度で connection が dispose されて困る","created":1677772562,"updated":1677772592},{"id":"64007ec24ade4d00003c1863","text":"","created":1677754051,"updated":1677754051},{"id":"64005f264ade4d0000988fbd","text":"[Proxmox] に [TrueNAS] の VM をつくった","created":1677745959,"updated":1677745976},{"id":"64005f374ade4d0000988fbf","text":"\tTrueNAS Scale の ISO をダウンロードしてきて、Proxmox にアップロードして、VM の作成画面からポチポチすると起動した","created":1677745976,"updated":1677746019},{"id":"64005f654ade4d0000988fc0","text":"\tStorage を作成するのに別のディスクが刺さってる必要があったので、Hardware から適当なサイズのディスクを作って追加してやれば Storage が作成できて、Storage > Datasets と作成できて、Datasets を [smb] で共有できる","created":1677746021,"updated":1677746220},{"id":"640060094ade4d0000988fc1","text":"\t\tShares から SMB の共有を有効化して、ユーザの権限を適当に設定した","created":1677746185,"updated":1677746234},{"id":"6400603a4ade4d0000988fc2","text":"\t","created":1677746234,"updated":1677746234},{"id":"64005f264ade4d0000988fbe","text":"","created":1677745959,"updated":1677745959},{"id":"64005d0a4ade4d00001d76f1","text":"ディスクまわりを試す","created":1677745419,"updated":1677745469},{"id":"64005d3d4ade4d00001d76f3","text":"\t[ZFS] ってやつを試してみたかったので、[Proxmox] をインストールしたマシンのディスクのパーティションを分割することに","created":1677745469,"updated":1677745501},{"id":"64005d5e4ade4d00001d76f4","text":"\tマウント中のディスクはいじれないそうなので、[Ubuntu] のUSBメモリを作って、USB からブートして[Gparted] っていう GUI でパーティションの設定を変更できるソフトで変更すると簡単だった","created":1677745502,"updated":1677745563},{"id":"64005d9b4ade4d00001d76f5","text":"\tzfs では pool を作るのに最低2つ必要とのことだったので適当に [M.2] を分割した","created":1677745563,"updated":1677745590},{"id":"64005db74ade4d00001d76f6","text":"\t`ls -lh /dev/disk/by-id/` で id を調べて、`zpool create` に引数として渡したら作成できた","created":1677745591,"updated":1677745694},{"id":"64005e1e4ade4d00001d76f7","text":"\tProxmox 側からも認識されていて、Datacenter => Storage から Add => ZFS とすると作成した ZFS に VM に渡すディスクを作成したりできるようになった","created":1677745695,"updated":1677745838},{"id":"64005d0a4ade4d00001d76f2","text":"","created":1677745419,"updated":1677745419},{"id":"64003e3a4ade4d0000156105","text":"古のディスクを引っ張り出してきた","created":1677737530,"updated":1677737538},{"id":"64003e434ade4d0000156107","text":"\t2代前の mac のバックアップが入ってて、アプリケーションとかみたら [Atom], [Alfred], [Boxcar], [Dropbox], [Evernote], [Growl], [Vagrant], [YoruFukurou] と懐かしい面々がいて、お前たち.......みたいな気持ちになった","created":1677737540,"updated":1677737694},{"id":"64003e3a4ade4d0000156106","text":"","created":1677737530,"updated":1677737530}]}