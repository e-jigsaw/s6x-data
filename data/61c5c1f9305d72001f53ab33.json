{"id":"61c5c1f9305d72001f53ab33","title":"久しぶりにラズパイ","image":null,"created":1640350202,"updated":1640350207,"lines":[{"id":"61c5c1f9305d72001f53ab33","text":"久しぶりにラズパイ","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452ad","text":"from [20211218] #1218","created":1640350202,"updated":1640350207},{"id":"61c5c1f94ade4d00009452ae","text":"久しぶりにラズパイ","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452af","text":"\t今さら感あるかもしれないが、やっぱり部屋にこもって仕事してると二酸化炭素濃度やばいのでは？という疑念が","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452b0","text":"\t適当にセンサを買おうと探してみたが、画面に表示だけするやつは数あれどセンサの値を引っ張ってきて記録しておく、というやつは全然見つからなかった","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452b1","text":"\t仕方ないのでマジのセンサだけ買ってなんらか電子工作するしかねえか...とおもい、そっちも調べてると M5Stack? M5Stick? というやつにつなげたりするやつが出てきたりした","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452b2","text":"\t\tこういう時ぐらい他の言語書けよという気がしないでもないけど、慣れてるツールでコードを書きたい欲が出てきてしまって、どうにか Raspberry Pi でやれないかなと","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452b3","text":"\t大昔に買ったラズパイ3が引っ越しだかのタイミングでぶっ壊れてしまっていて、復旧できるか試した","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452b4","text":"\t\thttps://dev.classmethod.jp/articles/restore-the-raspberry-pi-4-model-b-os-destroyed-by-a-biginner/","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452b5","text":"\t\t\tによると、不意の電源抜き差しで SD がぶっ壊れるらしい","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452b6","text":"\t\t\tひとまず SD に OS を焼き直してみることに","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452b7","text":"\t\thttps://www.raspberrypi.com/software/","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452b8","text":"\t\t\tなんと SD 焼くアプリを公式が配布してて、これでぱぱっと焼くことに成功した","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452b9","text":"\t\t\t\tSD(microも)のスロットがついたデバイスなどなかったので、これも大昔に使っていた microSD => USB-A のコネクタに USB-A => USB-C のコネクタをかませないと macbook につながらなかったのだが、さすがにタワーすぎるせいか mac だと認識されなかった","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452ba","text":"\t\t\t\t仕方ないので母艦の windows に USB-A で接続したら、認識はするものの、そもそも SD がぶっ壊れてそうだった","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452bb","text":"\t\t\t\t\tコネクタがイカれてるのか、本体がイカれてるのかわからなかったので、転がってた8GB の SD を挿してみると無事に認識されたのでこのままこいつでいくことにした","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452bc","text":"\t\t\t\t\t\t容量半分になってしまったので些か不安ではある","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452bd","text":"\t\thttps://qiita.com/c60evaporator/items/ebe9c6e8a445fed859dc","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452be","text":"\t\t\tlinux でもろもろ整えるの毎回やっては忘れてしまうので、これを参考に整えた","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452bf","text":"\t\t\t初手だと GUI が上がってしまって、適当なマウスがなくて詰んだのだが、キーボードで ctrl+alt+t でターミナルが立ち上がるってことだったので、これでターミナルを開いて `raspi-config` を実行して CUI をデフォルトにしたり、ssh を enable にしたりした","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452c0","text":"\t最近はもっぱら [volta] 使ってるので volta 使えるかな〜とおもったが、volta は x86 しかダメらしい","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452c1","text":"\t[nvm] 試してみたらちゃんと armv7l のバイナリを引いてきてくれてさすがだなと","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452c2","text":"\t\t普通に node@16 動いた","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452c3","text":"\tちなみに、deno も動いたりしないかな〜とおもって `curl -fsSL https://deno.land/x/install/install.sh | sh` したら x86? のバイナリが入ってきただけで使えなかった","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452c4","text":"\tしょうがないので rust の環境を入れた","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452c5","text":"\t\trust は `curl https://sh.rustup.rs -sSf | sh` だけで入って便利","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452c6","text":"\tんで `cargo install deno --locked` を試したんだけど、rustry_v8 のコンパイルで失敗するっぽい","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452c7","text":"\tちょこっと調べて https://github.com/LukeChannings/deno-arm64 で配布されてるバイナリを試してみたけど動かず","created":1640350202,"updated":1640350202},{"id":"61c5c1f94ade4d00009452c8","text":"\t今回は deno はサブなので一旦スルーすることにした","created":1640350202,"updated":1640350202}]}