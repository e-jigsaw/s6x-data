{"id":"6544b87d46db37001c24daed","title":"20231103","image":null,"created":1699002497,"updated":1699116300,"lines":[{"id":"6544b87d46db37001c24daed","text":"20231103","created":1699002497,"updated":1699002497},{"id":"6544b8804ade4d0000103532","text":"#1103","created":1699002497,"updated":1699002497},{"id":"6544b8804ade4d0000103533","text":"","created":1699002497,"updated":1699002497},{"id":"6544bb7b4ade4d0000103541","text":"[pnpm] deploy メモ","created":1699003260,"updated":1699003267},{"id":"6544bb834ade4d0000103543","text":"\tpnpm に deploy てコマンドが生えてて、pnpm workspaces ベースの monorepo で、パッケージ内の依存を解決した状態で特定のディレクトリにコピーしてくれる","created":1699003268,"updated":1699003337},{"id":"6544bbc54ade4d0000103544","text":"\tただ、微妙に罠があって、ご丁寧に deploy コマンドは `.gitignore` ファイルの中身をみて、ignore されてるファイルはコピーしないという挙動になっていてハマった","created":1699003334,"updated":1699003379},{"id":"6544bbf44ade4d0000103545","text":"\tdocker image をビルドする時に `.dockerignore` で `.gitignore` を弾いておかないといけないんだけど、`.dockerignore` の挙動が `.gitignore` と違くて、`**/.gitignore` としないとサブディレクトリ内の `.gitignore` は弾いてくれないのであった","created":1699003380,"updated":1699003449},{"id":"6544bb7c4ade4d0000103542","text":"","created":1699003260,"updated":1699003260},{"id":"6544bc3f4ade4d0000103546","text":"","created":1699003456,"updated":1699003456},{"id":"6544b8814ade4d0000103534","text":"[ロキ シーズン2 5話 感想 (ネタバレあり)]","created":1699002498,"updated":1699116300},{"id":"6544b8814ade4d0000103535","text":"","created":1699002498,"updated":1699002498}]}