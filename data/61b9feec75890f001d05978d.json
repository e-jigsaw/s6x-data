{"id":"61b9feec75890f001d05978d","title":"deno そこそこ触る","image":null,"created":1639579372,"updated":1639579429,"lines":[{"id":"61b9feec75890f001d05978d","text":"deno そこそこ触る","created":1639579372,"updated":1639579372},{"id":"61b9fef04ade4d0000bce294","text":"from [20211211] #1211","created":1639579372,"updated":1639579377},{"id":"61b9fef04ade4d0000bce295","text":"[deno] そこそこ触る","created":1639579372,"updated":1639579380},{"id":"61b9fef04ade4d0000bce296","text":"\tちょっと前にも書いたが [deno] ウェーブきてる感あって本腰を入れて遊んでみることに","created":1639579372,"updated":1639579372},{"id":"61b9fef04ade4d0000bce297","text":"\tここの [scrapbox] の [AMP] 版として実装した amp.kbys.tk の AMP をそろそろ外したいし、仕組みを変えたりしたいのでコイツでいろいろやってみる","created":1639579372,"updated":1639579388},{"id":"61b9fef04ade4d0000bce298","text":"\t大元に [sb-scripts] というユーティリティ的なリポジトリを別で作ってて、まずはそいつを deno 化した","created":1639579372,"updated":1639579393},{"id":"61b9fef04ade4d0000bce299","text":"\t\t特に依存とかなくて、fetch がネイティブで実装されているのでむしろラクになった","created":1639579372,"updated":1639579372},{"id":"61b9fef04ade4d0000bce29a","text":"\t\t[deno.land] に登録してみたくてとりあえず登録したけど、別に rawgithub からスクリプト落ちてくれば別にそれでもいい感はあった","created":1639579372,"updated":1639579398},{"id":"61b9fef04ade4d0000bce29b","text":"\t\t\tとくにアカウントの登録とかもなくて(?) [GitHub] でぽいぽい設定したら勝手に publish される","created":1639579372,"updated":1639579403},{"id":"61b9fef04ade4d0000bce29c","text":"\t\t\tesm とかもそうだけど、もうなんかビルドして云々とかもはやダルいよなあ","created":1639579372,"updated":1639579372},{"id":"61b9fef04ade4d0000bce29d","text":"\t続いて、大きく依存している [scrapbox-parser] が deno で動くか試してみることに","created":1639579372,"updated":1639579410},{"id":"61b9fef04ade4d0000bce29e","text":"\t\tpackage.json みて、devDep ぐらいしかなかったのでいけそうなことを確信したけど import で拡張子が必須なのでいちいちつけてまわる必要があった","created":1639579372,"updated":1639579372},{"id":"61b9fef04ade4d0000bce29f","text":"\t\t\t手作業で終わらせてとりあえず fork したリポジトリにあげておいた","created":1639579372,"updated":1639579372},{"id":"61b9fef04ade4d0000bce2a0","text":"\t\t\tdeno fmt もかかっちゃったので本家に変更があった時に取り込むのが少し面倒になるかもしれない","created":1639579372,"updated":1639579372},{"id":"61b9fef04ade4d0000bce2a1","text":"\t\t\t\tここらへんは既存の npm 中心のエコシステムとどう落としどころつくっていくのかなあ？なんかもううまいことやると node 互換？とやらで動いたりするんだろうか？","created":1639579372,"updated":1639579372},{"id":"61b9fef04ade4d0000bce2a2","text":"\t\t適当なスクリプトを書いてちゃんとパースできていることを確認した","created":1639579372,"updated":1639579372},{"id":"61b9fef04ade4d0000bce2a3","text":"\tお膳立てはできたけど肝心の本体をどうするかは考え中","created":1639579372,"updated":1639579372},{"id":"61b9fef04ade4d0000bce2a4","text":"\t\tせっかくなので [deno deploy] を使ってみたいが、deno deploy における [next.js] っぽい [fresh]? というやつがまだまだ手作り感ある状態でどうしようかなあと","created":1639579372,"updated":1639579429},{"id":"61b9fef04ade4d0000bce2a5","text":"\t\t今までは AMP を予め生成しておいて、ランタイムなしにして静的なアセットだけ配信すればいい状態にしていたが、deno deploy におくなら edge server から直で API を叩いてそれを出すだけでいいんじゃないか？とおもわんでもない","created":1639579372,"updated":1639579372},{"id":"61b9fef04ade4d0000bce2a6","text":"\t\t\tとはいえルーティングとか考えると最低限なんらかの FW はほしいが、なんか定番的なのあったりするんだろうか....","created":1639579372,"updated":1639579372}]}