{"id":"5c3c04e0be23a10017086e37","title":"socket.io で CORS にハマったメモ - dev.jgs.me","image":null,"created":1382022000,"updated":1571944858,"lines":[{"id":"5c3c04e04ade4d0000c9d88c","text":"socket.io で CORS にハマったメモ - dev.jgs.me","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d88e","text":"`api.hoge.jp` で `socket.io` を走らせてるときに `hoge.jp` から Websocketで通信しようとしたら案の定 `CORS` エラーが出てハマった。`node.js` の `Express` では適当にミドルウェア書いておけば抜けられるのは知っていたのだけれど、`socket.io` でどうすればいいのかわからなかった。","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d88f","text":"","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d890","text":"[https://groups.google.com/forum/#!topic/socket_io/Fkq9Pyc8s6E https://groups.google.com/forum/#!topic/socket_io/Fkq9Pyc8s6E]","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d891","text":"","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d892","text":"に従って","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d893","text":"","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d894","text":"code:_","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d895","text":" app = express()","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d896","text":" ","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d897","text":" server = http.createServer app","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d898","text":" ","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d899","text":" io = require('socket.io').listen server,","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d89a","text":"   origins: \"hoge.jp:*\"","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d89b","text":"","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d89c","text":"と `listen` するときにオプションで指定できるようだ。アー盛大にハマった。","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d89d","text":"","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d89e","text":"[* original: http://dev.jgs.me/2013/10/18/socket-dot-io-de-cors-nihamatutamemo]","created":1382022000,"updated":1382022000},{"id":"5c3c04e04ade4d0000c9d89f","text":"#20131018 #1018","created":1382022000,"updated":1571944858},{"id":"5db1f9974ade4d0000d22b3a","text":"","created":1571944856,"updated":1571944856}]}