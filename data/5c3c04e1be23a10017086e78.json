{"id":"5c3c04e1be23a10017086e78","title":"Haskell で Web サーバをつくってみる - dev.jgs.me","image":null,"created":1419951600,"updated":1577723647,"lines":[{"id":"5c3c04e14ade4d0000c9e000","text":"Haskell で Web サーバをつくってみる - dev.jgs.me","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e002","text":"[http://adit.io/posts/2013-04-15-making-a-website-with-haskell.html http://adit.io/posts/2013-04-15-making-a-website-with-haskell.html]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e003","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e004","text":"を見ながら [Scotty] で [Web サーバ]をつくってみる。","created":1419951600,"updated":1577723623},{"id":"5c3c04e14ade4d0000c9e005","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e006","text":"[*** Haskell のインストール]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e007","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e008","text":"code:_","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e009","text":" ✈ brew install ghc","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e00a","text":" ==> Installing ghc dependency: gmp","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e00b","text":" ==> Downloading https://downloads.sf.net/project/machomebrew/Bottles/gmp-6.0.0a.mavericks.bottle.tar.gz","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e00c","text":" ######################################################################## 100.0%","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e00d","text":" ==> Pouring gmp-6.0.0a.mavericks.bottle.tar.gz","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e00e","text":" 🍺  /usr/local/Cellar/gmp/6.0.0a: 15 files, 3.2M","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e00f","text":" ==> Installing ghc","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e010","text":" ==> Downloading https://downloads.sf.net/project/machomebrew/Bottles/ghc-7.8.3.mavericks.bottle.1.tar.gz","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e011","text":" ######################################################################## 100.0%","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e012","text":" ==> Pouring ghc-7.8.3.mavericks.bottle.1.tar.gz","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e013","text":" 🍺  /usr/local/Cellar/ghc/7.8.3: 5742 files, 724M","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e014","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e015","text":"[brew] で。","created":1419951600,"updated":1577723629},{"id":"5c3c04e14ade4d0000c9e016","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e017","text":"code:_","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e018","text":" ✈ brew install cabal-install","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e019","text":" ==> Downloading https://downloads.sf.net/project/machomebrew/Bottles/cabal-install-1.20.0.3_1.mavericks.bottle.1.tar.gz","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e01a","text":" ######################################################################## 100.0%","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e01b","text":" ==> Pouring cabal-install-1.20.0.3_1.mavericks.bottle.1.tar.gz","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e01c","text":" ==> Caveats","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e01d","text":" Bash completion has been installed to:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e01e","text":"   /usr/local/etc/bash_completion.d","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e01f","text":" ==> Summary","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e020","text":" 🍺  /usr/local/Cellar/cabal-install/1.20.0.3_1: 5 files, 18M","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e021","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e022","text":"次に `cabal-install`。どうやら brew のやつは古いっぽくてアップデートを求められたのでアップデート。","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e023","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e024","text":"code:_","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e025","text":" ✈ cabal install cabal-install","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e026","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e027","text":"[*** `cabal sandbox init`]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e028","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e029","text":"なんか `cabal sandbox` を使うといいらしいので使う。","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e02a","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e02b","text":"[*** `todo.cabal` を写経]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e02c","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e02d","text":"code:_","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e02e","text":" name:                todo","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e02f","text":" version:             0.0.1","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e030","text":" synopsis:            My awesome todo-list app","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e031","text":" homepage:            https://github.com/e-jigsaw/haskell-webserver-sample","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e032","text":" license:             MIT","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e033","text":" author:              jigsaw","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e034","text":" maintainer:          m@jgs.me","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e035","text":" category:            Web","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e036","text":" build-type:          Simple","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e037","text":" cabal-version:       >=1.8","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e038","text":" ","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e039","text":" executable todo","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e03a","text":"   main-is:             Main.hs","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e03b","text":"   -- other-modules:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e03c","text":"   build-depends:       base ==4.6.*","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e03d","text":"                      , wai","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e03e","text":"                      , warp","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e03f","text":"                      , http-types","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e040","text":"                      , resourcet","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e041","text":"                      , scotty","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e042","text":"                      , text","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e043","text":"                      , bytestring","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e044","text":"                      , blaze-html","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e045","text":"                      , persistent ==1.3.*","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e046","text":"                      , persistent-template ==1.3.*","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e047","text":"                      , persistent-sqlite ==1.3.*","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e048","text":"                      , persistent-postgresql ==1.3.*","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e049","text":"                      , monad-logger ==0.3.0","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e04a","text":"                      , heroku","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e04b","text":"                      , transformers","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e04c","text":"                      , wai-middleware-static","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e04d","text":"                      , wai-extra","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e04e","text":"                      , time","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e04f","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e050","text":"[*** `Main.hs` を写経]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e051","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e052","text":"code:_","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e053","text":" {-# LANGUAGE OverloadedStrings #-}","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e054","text":" import Web.Scotty","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e055","text":" ","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e056","text":" main = scotty 3000 $ do","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e057","text":"   get \"/\" $ do","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e058","text":"     html \"Hello World!!\"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e059","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e05a","text":"[*** エラーが出る]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e05b","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e05c","text":"code:_","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e05d","text":" ✈ cabal install","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e05e","text":" Resolving dependencies...","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e05f","text":" cabal: Could not resolve dependencies:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e060","text":" trying: Cabal-1.20.0.3/installed-ede... (user goal)","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e061","text":" next goal: todo (user goal)","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e062","text":" rejecting: todo-0.0.1 (conflict: Cabal => base==4.7.0.1/installed-c64..., todo","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e063","text":" => base==4.6.*)","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e064","text":" Dependency tree exhaustively searched.","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e065","text":" ","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e066","text":" Note: when using a sandbox, all packages are required to have consistent","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e067","text":" dependencies. Try reinstalling/unregistering the offending packages or","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e068","text":" recreating the sandbox.","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e069","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e06a","text":"ちょっとよくわからないです。。。","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e06b","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e06c","text":"ので、大人しく `cabal init` することにした。","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e06d","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e06e","text":"code:_","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e06f","text":" ✈ cabal init","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e070","text":" Package name? [default: haskell-webserver-sample]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e071","text":" Package version? [default: 0.1.0.0]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e072","text":" Please choose a license:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e073","text":"  * 1) (none)","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e074","text":"    2) GPL-2","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e075","text":"    3) GPL-3","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e076","text":"    4) LGPL-2.1","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e077","text":"    5) LGPL-3","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e078","text":"    6) AGPL-3","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e079","text":"    7) BSD2","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e07a","text":"    8) BSD3","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e07b","text":"    9) MIT","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e07c","text":"   10) MPL-2.0","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e07d","text":"   11) Apache-2.0","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e07e","text":"   12) PublicDomain","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e07f","text":"   13) AllRightsReserved","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e080","text":"   14) Other (specify)","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e081","text":" Your choice? [default: (none)] 9","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e082","text":" Author name? [default: jigsaw]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e083","text":" Maintainer email? [default: jigsaw@live.jp]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e084","text":" Project homepage URL? https://github.com/haskell-webserver-sample","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e085","text":" Project synopsis? webserver sample","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e086","text":" Project category:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e087","text":"  * 1) (none)","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e088","text":"    2) Codec","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e089","text":"    3) Concurrency","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e08a","text":"    4) Control","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e08b","text":"    5) Data","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e08c","text":"    6) Database","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e08d","text":"    7) Development","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e08e","text":"    8) Distribution","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e08f","text":"    9) Game","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e090","text":"   10) Graphics","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e091","text":"   11) Language","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e092","text":"   12) Math","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e093","text":"   13) Network","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e094","text":"   14) Sound","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e095","text":"   15) System","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e096","text":"   16) Testing","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e097","text":"   17) Text","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e098","text":"   18) Web","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e099","text":"   19) Other (specify)","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e09a","text":" Your choice? [default: (none)] 18","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e09b","text":" What does the package build:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e09c","text":"    1) Library","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e09d","text":"    2) Executable","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e09e","text":" Your choice? 2","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e09f","text":" What is the main module of the executable:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0a0","text":"  * 1) Main.hs","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0a1","text":"    2) Other (specify)","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0a2","text":" Your choice? [default: Main.hs]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0a3","text":" What base language is the package written in:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0a4","text":"  * 1) Haskell2010","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0a5","text":"    2) Haskell98","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0a6","text":"    3) Other (specify)","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0a7","text":" Your choice? [default: Haskell2010]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0a8","text":" Include documentation on what each field means (y/n)? [default: n]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0a9","text":" ","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0aa","text":" Guessing dependencies...","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0ab","text":" ","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0ac","text":" Warning: no package found providing Web.Scotty.","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0ad","text":" ","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0ae","text":" Generating LICENSE...","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0af","text":" Generating Setup.hs...","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0b0","text":" Generating haskell-webserver-sample.cabal...","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0b1","text":" ","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0b2","text":" You may want to edit the .cabal file and add a Description field.","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0b3","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0b4","text":"生成されたファイルはというと","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0b5","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0b6","text":"`haskell-webserver-sample.cabal`:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0b7","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0b8","text":"code:_","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0b9","text":" -- Initial haskell-webserver-sample.cabal generated by cabal init.  For","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0ba","text":" -- further documentation, see http://haskell.org/cabal/users-guide/","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0bb","text":" ","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0bc","text":" name:                haskell-webserver-sample","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0bd","text":" version:             0.1.0.0","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0be","text":" synopsis:            webserver sample","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0bf","text":" -- description:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0c0","text":" homepage:            https://github.com/haskell-webserver-sample","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0c1","text":" license:             MIT","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0c2","text":" license-file:        LICENSE","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0c3","text":" author:              jigsaw","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0c4","text":" maintainer:          m@jgs.me","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0c5","text":" -- copyright:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0c6","text":" category:            Web","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0c7","text":" build-type:          Simple","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0c8","text":" -- extra-source-files:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0c9","text":" cabal-version:       >=1.10","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0ca","text":" ","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0cb","text":" executable haskell-webserver-sample","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0cc","text":"   main-is:             Main.hs","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0cd","text":"   -- other-modules:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0ce","text":"   other-extensions:    OverloadedStrings","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0cf","text":"   build-depends:       base >=4.7 && <4.8","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0d0","text":"   -- hs-source-dirs:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0d1","text":"   default-language:    Haskell2010","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0d2","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0d3","text":"`LICENSE` も勝手に生成してくれてて優しい。","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0d4","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0d5","text":"たぶん `scotty` がないよっていわれるだろうなとおもいつつ `cabal install` してみる","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0d6","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0d7","text":"code:_","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0d8","text":" Main.hs:2:8:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0d9","text":"     Could not find module ‘Web.Scotty’","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0da","text":"     Use -v to see a list of the files searched for.","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0db","text":" cabal: Error: some packages failed to install:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0dc","text":" haskell-webserver-sample-0.1.0.0 failed during the building phase. The","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0dd","text":" exception was:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0de","text":" ExitFailure 1","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0df","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0e0","text":"ウッス。`haskell-webserver-sample.cabal` の `build-depends` に `scotty` を追加して `cabal install` しなおす。するとずるずる〜っと依存の解決をしてくれるのでしばらく待つ。すると `.cabal-sandbox/bin/haskell-webserver-sample` にバイナリができているのであとはそいつを実行すると","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0e1","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0e2","text":"code:_","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0e3","text":" ✈ .cabal-sandbox/bin/haskell-webserver-sample","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0e4","text":" Setting phasers to stun... (port 3000) (ctrl-c to quit)","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0e5","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0e6","text":"あとは","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0e7","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0e8","text":"code:_","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0e9","text":" ✈ curl http://localhost:3000","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0ea","text":" Hello World!!%","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0eb","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0ec","text":"wa~i!!","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0ed","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0ee","text":"[*** 名前を表示するぞ]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0ef","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0f0","text":"チュートリアルの次がルーティングの項目だったので、`GET /` で `name` を querystring で受けたら名前を出すやつをつくる。querystring は `name <- param \"name\"` みたいな感じで受け取れるようだ。","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0f1","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0f2","text":"`Main.hs`:","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0f3","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0f4","text":"code:_","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0f5","text":" {-# LANGUAGE OverloadedStrings #-}","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0f6","text":" import Web.Scotty","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0f7","text":" import Data.Monoid","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0f8","text":" ","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0f9","text":" main = scotty 3000 $ do","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0fa","text":"   get \"/\" $ do","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0fb","text":"     name <- param \"name\"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0fc","text":"     text $ mconcat [\"あけまして\", name, \"おめでとう\"]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0fd","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0fe","text":"なにも考えずに `\"あけまして\" ++ name ++ \"おめでとう\"` ってやったらエラーが出てダメだった。チュートリアルにあるとおり `mconcat` を使うとできる。ちなみに `mconcat` は `Data.Monoid` を import しないといけなかった。とりあえずこれで","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e0ff","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e100","text":"code:_","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e101","text":" ✈ curl http://localhost:3000/?name=yeah","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e102","text":" あけましてyeahおめでとう%","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e103","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e104","text":"yeah!(ところで `Monoid` って何)","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e105","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e106","text":"ここまでやって、json で返すのを試そうとしてたら日本酒が完全にまわって倒れたので寝ました。あけましておめでとう。","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e107","text":"","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e108","text":"[* original: http://dev.jgs.me/2014/12/31/making-web-server-with-haskell]","created":1419951600,"updated":1419951600},{"id":"5c3c04e14ade4d0000c9e109","text":"#20141231 #1231","created":1419951600,"updated":1577723647},{"id":"5e0a26fc4ade4d0000accc87","text":"","created":1577723644,"updated":1577723644}]}