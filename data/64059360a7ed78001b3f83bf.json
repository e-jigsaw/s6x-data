{"id":"64059360a7ed78001b3f83bf","title":"TrueNAS の Dataset のマウント","image":null,"created":1678087009,"updated":1678087061,"lines":[{"id":"64059360a7ed78001b3f83bf","text":"TrueNAS の Dataset のマウント","created":1678087009,"updated":1678087009},{"id":"640593604ade4d0000692505","text":"from [20230304] #0304","created":1678087009,"updated":1678087061},{"id":"640593604ade4d0000692506","text":"[TrueNAS] の Dataset のマウント","created":1678087009,"updated":1678087009},{"id":"640593604ade4d0000692507","text":"\t[TrueNAS で作成したストレージを iSCSI 経由でマウントする]で、[iSCSI] ええやんとおもったけど [SMB] でいいになった","created":1678087009,"updated":1678087009},{"id":"640593604ade4d0000692508","text":"\tしかし、`mount` で `-t cifs` とマウントすると権限が root になっちゃって使い勝手が悪いということになった","created":1678087009,"updated":1678087009},{"id":"640593604ade4d0000692509","text":"\tで、TrueNAS には UNIX Share([NFS]) ってのも設定があったので、そういうのもあるんやなあと","created":1678087009,"updated":1678087009},{"id":"640593604ade4d000069250a","text":"\tTrueNAS 側は NFS の service を有効化して、NFSv4 も有効にしておく","created":1678087009,"updated":1678087009},{"id":"640593604ade4d000069250b","text":"\t\t[Ubuntu] の `nfs-common` は v4 がデフォルトみたい","created":1678087009,"updated":1678087009},{"id":"640593604ade4d000069250c","text":"\tUbuntu では apt で nfs-common をインストールすれば `sudo mount -t nfs <ip>:/mnt/<pool_name>/<dataset_name> /mnt/<name>` てなコマンドでマウントができた","created":1678087009,"updated":1678087009},{"id":"640593604ade4d000069250d","text":"\tNFS でマウントした場合は SMB みたいに root になっちゃったりしないので、取り回しやすい","created":1678087009,"updated":1678087009},{"id":"640593604ade4d000069250e","text":"\t結局 Zvol はいろいろすごそうだけど、素直に Dataset にしておけば SMB/NFS で [Windows]/[mac]/[linux] 全部で取り回せるのでこれでいいかな","created":1678087009,"updated":1678087009},{"id":"640593604ade4d000069250f","text":"","created":1678087009,"updated":1678087009}]}