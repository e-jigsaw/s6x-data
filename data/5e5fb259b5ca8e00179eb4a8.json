{"id":"5e5fb259b5ca8e00179eb4a8","title":"jest で named export なライブラリの関数をモックする","image":null,"created":1583329882,"updated":1583331751,"lines":[{"id":"5e5fb259b5ca8e00179eb4a8","text":"jest で named export なライブラリの関数をモックする","created":1583329882,"updated":1583329882},{"id":"5e5fb25b4ade4d00008a9b13","text":"from [20200302] #0302","created":1583329882,"updated":1583331751},{"id":"5e5fb25b4ade4d00008a9b14","text":"[jest] で named export なライブラリの関数をモックする","created":1583329882,"updated":1583329882},{"id":"5e5fb25b4ade4d00008a9b15","text":"\tこういうユースケースありそうだけど意外と書いてるところが少なかったのでメモ","created":1583329882,"updated":1583329882},{"id":"5e5fb25b4ade4d00008a9b16","text":"\tcode:test.ts","created":1583329882,"updated":1583329882},{"id":"5e5fb25b4ade4d00008a9b17","text":"\t // ライブラリ側で","created":1583329882,"updated":1583329882},{"id":"5e5fb25b4ade4d00008a9b18","text":"\t export const foo = () => {}","created":1583329882,"updated":1583329882},{"id":"5e5fb25b4ade4d00008a9b19","text":"\t // こういう感じになってるヤツをモックする時は","created":1583329882,"updated":1583329882},{"id":"5e5fb25b4ade4d00008a9b1a","text":"\t import * as Foo from 'foo'","created":1583329882,"updated":1583329882},{"id":"5e5fb25b4ade4d00008a9b1b","text":"\t jest.spyOn(Foo, 'foo').mockImplementation(/* ... */)","created":1583329882,"updated":1583329882},{"id":"5e5fb25b4ade4d00008a9b1c","text":"\t // みたいな感じでモックする","created":1583329882,"updated":1583329882},{"id":"5e5fb25b4ade4d00008a9b1d","text":"\t`as ...` で読み出しておくのがミソ","created":1583329882,"updated":1583329882}]}