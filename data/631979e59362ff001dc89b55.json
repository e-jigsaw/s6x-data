{"id":"631979e59362ff001dc89b55","title":"Qwikというフレームワークについて - console.lealog();","image":"https://gyazo.com/c31ab0173ed8d0aed88a3ee088f07838/raw","created":1662613989,"updated":1662614224,"lines":[{"id":"631979e59362ff001dc89b55","text":"Qwikというフレームワークについて - console.lealog();","created":1662613989,"updated":1662613989},{"id":"631979e54ade4d0000fc4c05","text":"[Qwikというフレームワークについて - console.lealog(); https://lealog.hateblo.jp/entry/2022/01/11/142734]","created":1662613989,"updated":1662613989},{"id":"631979e54ade4d0000fc4c06","text":"[https://gyazo.com/c31ab0173ed8d0aed88a3ee088f07838]","created":1662613989,"updated":1662614006},{"id":"631979f64ade4d0000fc4c0c","text":">[Next]など現状のフレームワークを使う場合、この後半のステップが重くなりがちで、どうしても[TTI]が遅くなる傾向にある","created":1662614006,"updated":1662614037},{"id":"631979e54ade4d0000fc4c07","text":"わかる","created":1662613989,"updated":1662614039},{"id":"63197a164ade4d0000fc4c0d","text":">ほとんど静的なページだったとしても、デカいランタイムが必要（Svelteみたいにそこが小さいのもあるけど）になる","created":1662614039,"updated":1662614050},{"id":"631979e54ade4d0000fc4c08","text":"","created":1662613989,"updated":1662613989},{"id":"63197a364ade4d0000fc4c0e","text":">[Qwik]でも初期ロードでJSを利用するけど、それは1KB足らずで実行も1ms以内に終わる。あとの全て（UIもイベントハンドラも何もかも）は、非同期で遅延ロードされる","created":1662614071,"updated":1662614075},{"id":"63197a374ade4d0000fc4c0f","text":"","created":1662614071,"updated":1662614071},{"id":"63197a564ade4d0000fc4c10","text":">現状のフレームワークたちは[Resumable]ではなく、[Replayable]と言ってたけどそれは、","created":1662614102,"updated":1662614110},{"id":"63197a574ade4d0000fc4c12","text":"> ","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c13","text":"> フレームワークの内部状態が、[JS]の[ヒープ]で管理されてる","created":1662614103,"updated":1662614119},{"id":"63197a574ade4d0000fc4c14","text":"> [イベントハンドラ]がどこにアタッチされるか","created":1662614103,"updated":1662614123},{"id":"63197a574ade4d0000fc4c15","text":"> コンポーネントの構造","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c16","text":"> 状態のバインディング","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c17","text":"> その解釈や評価がロード時に行われる","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c18","text":"> そのために、大量のJSが必要になるわけではある","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c19","text":"> [SSR]時にやったはずのことを、\"リプレイ\"する必要がある","created":1662614103,"updated":1662614129},{"id":"63197a574ade4d0000fc4c1a","text":"> 途中でやめることも、一部だけを[ハイドレーション]することもできない","created":1662614103,"updated":1662614133},{"id":"63197a574ade4d0000fc4c1b","text":"> いわゆる[パーシャルハイドレーション]ができない","created":1662614103,"updated":1662614137},{"id":"63197a574ade4d0000fc4c1c","text":"> という特徴があるから。","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c1d","text":"> ","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c1e","text":"> このデザインだと、どうしてもTTIに不利であり、アプリのサイズが大きくなればなるほど、もっと不利になる。","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c1f","text":"> ","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c20","text":"> それに対してQwikでは、","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c21","text":"> ","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c22","text":"> SSRでやったことを、クライアントで引き継げる","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c23","text":"> つまり\"レジューム\"できる","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c24","text":"> そのためには、引き継ぎ情報をサーバーからクライアントに渡す必要がある","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c25","text":"> それに使われるのが、DOMの属性(= Attributes)","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c26","text":"> ありとあらゆるものが、シリアライズされて属性値に書かれる","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c27","text":"> イベントハンドラやコンポーネントの状態、再描画が必要というマーキングなども","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c28","text":"> レジュームできるということは、途中でやめることも容易","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c29","text":"> スクロールしないと表示されないようなUIは、後回しにできる","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c2a","text":"> いわゆるパーシャルハイドレーションができる","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c2b","text":"> という風になってる。","created":1662614103,"updated":1662614103},{"id":"63197a574ade4d0000fc4c2c","text":"[islands architecture] のアプローチとは違うパーシャルハイドレーションの実装て感じかなあ","created":1662614103,"updated":1662614188},{"id":"63197a564ade4d0000fc4c11","text":"","created":1662614102,"updated":1662614102},{"id":"63197ac34ade4d0000fc4c2e","text":">イベントハンドラですら遅延ロードされる。実際にクリックされるまで、ハンドラで実行するコードをダウンロードすらしない！インクリメントのハンドラと、デクリメントのハンドラも別ファイルになる。クリックされたら、その当該のハンドラと、テンプレのためのコードがダウンロードされて実行される","created":1662614212,"updated":1662614213},{"id":"63197ac44ade4d0000fc4c2f","text":"限界チューニングて感じする","created":1662614212,"updated":1662614224},{"id":"63197aca4ade4d0000fc4c30","text":"","created":1662614218,"updated":1662614218},{"id":"631979e54ade4d0000fc4c09","text":"#20220908 #0908","created":1662613989,"updated":1662613989},{"id":"631979e54ade4d0000fc4c0a","text":"","created":1662613989,"updated":1662613989},{"id":"631979e54ade4d0000fc4c0b","text":"","created":1662613989,"updated":1662613989}]}