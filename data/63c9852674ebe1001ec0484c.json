{"id":"63c9852674ebe1001ec0484c","title":"開発環境で useEffect が二重に実行されて困る","image":null,"created":1674151206,"updated":1674151211,"lines":[{"id":"63c9852674ebe1001ec0484c","text":"開発環境で useEffect が二重に実行されて困る","created":1674151206,"updated":1674151206},{"id":"63c985274ade4d000070ddc0","text":"from [20230116] #0116","created":1674151206,"updated":1674151211},{"id":"63c985274ade4d000070ddc1","text":"開発環境で `useEffect` が二重に実行されて困る","created":1674151206,"updated":1674151206},{"id":"63c985274ade4d000070ddc2","text":"\thttps://ja.reactjs.org/docs/strict-mode.html#ensuring-reusable-state","created":1674151206,"updated":1674151206},{"id":"63c985274ade4d000070ddc3","text":"\t地味にしばらく前からどうやら開発環境でだけ二重に実行されていそげなことがあって、困ってたんだけど、まあ開発環境でしか起きないしな....とおもってたら [react18] から strict にしていると将来的な state の復元マウントの再現のために二重に実行される、というようなことが起きるらしい","created":1674151206,"updated":1674151206},{"id":"63c985274ade4d000070ddc4","text":"\t今のところは、困るケースで strict を外せば問題なさそうという感じだけど、復元マウントの実装に備えて修正しておいた方がいいのかもなあ","created":1674151206,"updated":1674151206},{"id":"63c985274ade4d000070ddc5","text":"\t[TIL] [react] [next.js]","created":1674151206,"updated":1674151206},{"id":"63c985274ade4d000070ddc6","text":"","created":1674151206,"updated":1674151206}]}