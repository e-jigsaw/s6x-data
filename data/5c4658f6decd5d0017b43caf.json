{"id":"5c4658f6decd5d0017b43caf","title":"JavaScript の async/await の仕様をずっと誤解していた - dev.to/jgs","image":null,"created":1518065650,"updated":1581107550,"lines":[{"id":"5c4658f64ade4d0000c48fff","text":"JavaScript の async/await の仕様をずっと誤解していた - dev.to/jgs","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49000","text":"すごい初歩的なことかもしれないのだけれど、年単位ぐらいで誤解したままコードを書いていたので懺悔のためにも書いておく...。","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49001","text":"何が違ったかというと、async function の扱いである。async function も","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49002","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49003","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49004","text":"\tfunction","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49005","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49006","text":"と同じだとおもっていて、","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49007","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49008","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49009","text":"\tPromise","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4900a","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4900b","text":"を返さないと呼び出し側で","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4900c","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4900d","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4900e","text":"\tawait","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4900f","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49010","text":"できないと勘違いしていた。そのため、今までは","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49011","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49012","text":"\t","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49013","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49014","text":"というような感じで","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49015","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49016","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49017","text":"\tPromise","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49018","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49019","text":"を一旦返すようにしていた。しかし、async function は呼び出すと","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4901a","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4901b","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4901c","text":"\tPromise","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4901d","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4901e","text":"を返してくれるのだ。","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4901f","text":"参照: [https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/async_function https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/async_function]","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49020","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49021","text":"\t","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49022","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49023","text":"Node.js v9.5 で確認した。","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49024","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49025","text":"\t","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49026","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49027","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49028","text":"\tPromise","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49029","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4902a","text":"が返ってくる...。よくよく調べていくと async function の中で","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4902b","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4902c","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4902d","text":"\treturn","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4902e","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4902f","text":"すると","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49030","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49031","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49032","text":"\tPromise","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49033","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49034","text":"を","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49035","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49036","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49037","text":"\tresolve","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49038","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49039","text":"し、","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4903a","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4903b","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4903c","text":"\tthrow","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4903d","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4903e","text":"すると","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4903f","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49040","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49041","text":"\tPromise","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49042","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49043","text":"を","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49044","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49045","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49046","text":"\treject","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49047","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49048","text":"することになるんだそうな。","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49049","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4904a","text":"\t","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4904b","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4904c","text":"= >","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4904d","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4904e","text":"\t","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4904f","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49050","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49051","text":"\t","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49052","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49053","text":"= >","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49054","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49055","text":"\t","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49056","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49057","text":"まじか...。俺の","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49058","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c49059","text":"code:_","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4905a","text":"\tPromise","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4905b","text":"","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4905c","text":"とはなんだったんだ.........。とても恥ずかしい.....。","created":1518065650,"updated":1518065650},{"id":"5e3dc94c4ade4d0000df6112","text":"","created":1581107533,"updated":1581107533},{"id":"5e3dc95d4ade4d0000df6113","text":"#javascript","created":1581107550,"updated":1581107550},{"id":"5c4658f64ade4d0000c4905d","text":"[* original: https://dev.to/jgs/javascript--asyncawait---2l41]","created":1518065650,"updated":1518065650},{"id":"5c4658f64ade4d0000c4905e","text":"#20180208 #0208","created":1518065650,"updated":1581107547},{"id":"5c4658f64ade4d0000c4905f","text":"","created":1518065650,"updated":1581107549}]}