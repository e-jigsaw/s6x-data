{"id":"63ff79c8b5ecec001c1e9f0e","title":"20230301","image":null,"created":1677687243,"updated":1677689349,"lines":[{"id":"63ff79c8b5ecec001c1e9f0e","text":"20230301","created":1677687243,"updated":1677687243},{"id":"63ff79cb4ade4d0000cfcd69","text":"#0301","created":1677687244,"updated":1677687244},{"id":"63ff79cb4ade4d0000cfcd6a","text":"","created":1677687244,"updated":1677687244},{"id":"63ff81434ade4d0000cfcd87","text":"[Proxmox] にクラスターを作成","created":1677689156,"updated":1677689166},{"id":"63ff814e4ade4d0000cfcd89","text":"\thttps://pve.proxmox.com/wiki/Cluster_Manager","created":1677689167,"updated":1677689207},{"id":"63ff81774ade4d0000cfcd8a","text":"\tWeb の GUI から Datacenter => Cluster から Create Cluster をして、適当に作成したら Join Information ていうのが発行されるので、追加したい Web の GUI から Datacenter => Cluster から Join Cluster でコピーしたやつをペーストして、root のパスワードを入力したら双方が双方に表示されるようになった","created":1677689208,"updated":1677689316},{"id":"63ff81e34ade4d0000cfcd8b","text":"\t\t簡単だ〜〜","created":1677689316,"updated":1677689324},{"id":"63ff81ec4ade4d0000cfcd8c","text":"\t\tJoin した時だけなんか認証のエラーがちょっと出るが、リロードしたら問題なく表示されるようになった","created":1677689324,"updated":1677689349},{"id":"63ff81444ade4d0000cfcd88","text":"","created":1677689156,"updated":1677689156},{"id":"63ff79cc4ade4d0000cfcd6b","text":"[ASRock] [Z790] + 13th [Core i3] に [Proxmox] をインストール","created":1677687245,"updated":1677687383},{"id":"63ff7a2d4ade4d0000cfcd6d","text":"\t[Herobox] に Proxmox をインストールしたのに味をしめて、もうちょいイイマシンにもいれてみるか、ということで適当にパーツを選定した","created":1677687341,"updated":1677687379},{"id":"63ff7a584ade4d0000cfcd6e","text":"\t一応新しめのやつにしとこうかなあって感じで ASRock の Z790 チップセットのマザボに13世代の i3 をのっける構成にした","created":1677687384,"updated":1677687439},{"id":"63ff7ab34ade4d0000cfcd70","text":"\t\t[NAS] を見越して [HDD] がいっぱい挿さるやつがいいかなあ、とおもって [SATA] のポートが多いやつを探していったら ASRock のこのマザボだと8発ついてたので採用した","created":1677687476,"updated":1677687533},{"id":"63ff7a8f4ade4d0000cfcd6f","text":"\tメモリは安かった [Samsung] の16GBにした","created":1677687439,"updated":1677687756},{"id":"63ff7af24ade4d0000cfcd71","text":"\t\t一旦1本挿しで、あと3枚挿せるので今後必要になったら足す","created":1677687539,"updated":1677687756},{"id":"63ff7b084ade4d0000cfcd72","text":"\t[M.2] は [ADATA] の安いやつ1TBにした","created":1677687560,"updated":1677687756},{"id":"63ff7b384ade4d0000cfcd73","text":"\t\t[SSD] 少なめでいいかな〜ともおもったが、そもそも SSD が4発挿さるので HDD にする前に M.2 を挿せるだけ挿すのもアリかなと","created":1677687609,"updated":1677687756},{"id":"63ff7b6c4ade4d0000cfcd74","text":"\t電源は [COUGAR] の750Wにした","created":1677687661,"updated":1677687756},{"id":"63ff7b9b4ade4d0000cfcd75","text":"\t\tこれも安いやつでいいかなと考えてたが、プラグインがいいのと、SATA 8発供給できるケーブルがついてるのが良かった","created":1677687708,"updated":1677687756},{"id":"63ff7bbe4ade4d0000cfcd76","text":"\tケースは [Fractal Design] の [Define 7]","created":1677687743,"updated":1677687767},{"id":"63ff7bd94ade4d0000cfcd77","text":"\t\tこれもストレージがたくさん入る構成にできるとのことだったので","created":1677687770,"updated":1677687806},{"id":"63ff7bff4ade4d0000cfcd78","text":"\tパチパチ組んで、いざ USB 挿して起動したら思いの外ハマってしまった","created":1677687807,"updated":1677687839},{"id":"63ff7c204ade4d0000cfcd79","text":"\t\t最初の画面は出てくるんだけど、`Populating /dev...` みたいなとこでフリーズしてしまう","created":1677687840,"updated":1677687913},{"id":"63ff7c694ade4d0000cfcd7a","text":"\t\tエラーをたどっていくと、framebuffer のエラーがでてて、[X11] が VGA のバスをつかめねえみたいな状態っぽかった","created":1677687913,"updated":1677687977},{"id":"63ff7ca94ade4d0000cfcd7b","text":"\t\tスプラッシュスクリーンみたいな画面で `e` を押すと起動オプションを設定できて、`linux` の項目で `nomodeset` をつけて起動するとシェルの状態で起動して、X11 の設定をいじって再起動みたいなことができる","created":1677687977,"updated":1677688135},{"id":"63ff7d214ade4d0000cfcd7c","text":"\t\t\ttty1, tty2, tty3 は ctrl + alt + F1/2/3 みたいな感じで切り替えられた","created":1677688098,"updated":1677688120},{"id":"63ff7d474ade4d0000cfcd7d","text":"\t\t...んだけど、全然良化しない","created":1677688136,"updated":1677688146},{"id":"63ff7d524ade4d0000cfcd7e","text":"\t\tで、なんかさらに調べていくと i915 のドライバがどうこうみたいな話がでてきて、そのあたりも少し試したんだけど、そもそもなんで OS をインストールしたいだけなのに X11 が必要なんだーーとおもったら、[Debian] がインストールされていたら [apt] で Proxmox をインストールできるらしい","created":1677688146,"updated":1677688225},{"id":"63ff7da14ade4d0000cfcd7f","text":"\t\t\tいやじゃあそれでいいじゃん.....","created":1677688225,"updated":1677688230},{"id":"63ff7da74ade4d0000cfcd80","text":"\t\tというわけで Debian のUSBメモリをつくったらサクッと Debian はインストールできた","created":1677688231,"updated":1677688256},{"id":"63ff7dc14ade4d0000cfcd81","text":"\t\thttps://pve.proxmox.com/wiki/Install_Proxmox_VE_on_Debian_11_Bullseye","created":1677688257,"updated":1677688308},{"id":"63ff7df54ade4d0000cfcd82","text":"\t\tここに手順がまとまってるので、この通りにやればいいんだけど、冒頭の hosts を書き換えるのをすっ飛ばしてしまい、後にハマる原因をつくってしまったりした","created":1677688309,"updated":1677688344},{"id":"63ff7e184ade4d0000cfcd83","text":"\t\t`/etc/apt/sources.list` に proxmox のサーバを追加して、update して `pve-kernel-5.19` をインストールする","created":1677688345,"updated":1677688426},{"id":"63ff7e6b4ade4d0000cfcd84","text":"\t\t\tこれも、最初、書いてあるまんま `pve-kernel-5.15` をインストールしたら起動しなくなって焦った","created":1677688428,"updated":1677688454},{"id":"63ff7e874ade4d0000cfcd85","text":"\t\t\tgrub で元のやつで起動して、5.19 にインストールし直したらうまくいった","created":1677688455,"updated":1677688513},{"id":"63ff7ec14ade4d0000cfcd86","text":"\t\t","created":1677688514,"updated":1677688514},{"id":"63ff79cc4ade4d0000cfcd6c","text":"","created":1677687245,"updated":1677687245}]}