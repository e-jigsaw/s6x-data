{"id":"5c3c04e2be23a10017086e8e","title":"Wercker の新バージョンがリリースされて Docker ベースになっていた - dev.jgs.me","image":null,"created":1435071600,"updated":1593267979,"lines":[{"id":"5c3c04e24ade4d0000c9e416","text":"Wercker の新バージョンがリリースされて Docker ベースになっていた - dev.jgs.me","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e418","text":"[Wercker] がいつの間にかアップデートされていて、いま新しくアプリケーションを作成すると新しいスタック(Ewok というらしい)で作成される。ので、古い [yml] ファイルをそのまま使うとエラーが出る。","created":1435071600,"updated":1593267949},{"id":"5c3c04e24ade4d0000c9e419","text":"","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e41a","text":"大きな変更点としては、box を [Docker Hub] からとってこれるようになったところだろう。","created":1435071600,"updated":1593267953},{"id":"5c3c04e24ade4d0000c9e41b","text":"","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e41c","text":"code:_","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e41d","text":" box: nodesource/trusty:iojs-1.8.1","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e41e","text":"","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e41f","text":"とすると Docker Hub から [Ubuntu] + [iojs]@1.8.1 なイメージがダウンロードされて使える。もし複数バージョンを試したい場合は Docker Hub で [nvm] なり nodebrew なり入ったイメージを指定するといいだろう。","created":1435071600,"updated":1593267968},{"id":"5c3c04e24ade4d0000c9e420","text":"","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e421","text":"[*** ハマりどころ]","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e422","text":"","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e423","text":"どうやらデフォルトで `NODE_ENV` が `production` に設定されているようで `npm-install` の Step で `devDependencies` のパッケージがインストールされなくなっていた。ついでにそれに依存していたテストもすっ転んだ。しょうがないので","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e424","text":"","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e425","text":"code:_","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e426","text":" - script:","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e427","text":"     name: Set NODE_ENV","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e428","text":"     code: export NODE_ENV=development","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e429","text":"","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e42a","text":"を追加してなんとかした。","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e42b","text":"","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e42c","text":"[*** その他]","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e42d","text":"","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e42e","text":"ドキュメントは [http://devcenter.wercker.com/docs/pipelines/stacks.html http://devcenter.wercker.com/docs/pipelines/stacks.html] にまとまっている。ところで、このドキュメントのページは [https://github.com/wercker/docs https://github.com/wercker/docs] にあって、gulp で metalsmith の静的ページを Wercker でビルドしているようだ。オープンだし、ドッグフーディングしてるしとても好感がもてる。","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e42f","text":"","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e430","text":"Wercker でいくつか飼ってるのがあるので移行させねばだー。","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e431","text":"","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e432","text":"[* original: http://dev.jgs.me/2015/06/24/wercker-v2]","created":1435071600,"updated":1435071600},{"id":"5c3c04e24ade4d0000c9e433","text":"#20150624 #0624","created":1435071600,"updated":1593267979},{"id":"5ef757084ade4d00000e1735","text":"","created":1593267976,"updated":1593267976}]}