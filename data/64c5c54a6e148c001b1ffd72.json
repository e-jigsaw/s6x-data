{"id":"64c5c54a6e148c001b1ffd72","title":"機微情報を 1password に移行する","image":null,"created":1690682699,"updated":1690682752,"lines":[{"id":"64c5c54a6e148c001b1ffd72","text":"機微情報を 1password に移行する","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09c9","text":"from [20230728] #0728","created":1690682699,"updated":1690682752},{"id":"64c5c54e4ade4d00008d09ca","text":"機微情報を [1password] に移行する","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09cb","text":"\t[1Passwordを使って、ローカルにファイル(~/.configや.env)として置かれてる生のパスワードなどを削除した | Web Scratch]を読んで機能があるのは知ってたものの、そこまでするかぁ〜？という温度感だったが、[Copilot] に監視されてるので、正直ファイルとかに機微情報を書きたくないなーという気持ちが強まった","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09cc","text":"\tまずは [CLI] をいれる","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09cd","text":"\t\thttps://developer.1password.com/docs/cli/get-started/","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09ce","text":"\tんで、アプリ側の開発者タブで CLI と接続する","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09cf","text":"\tこの状態で `op signin` すると Vault に接続できるようになっている","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09d0","text":"\t[VSC] の拡張もいれておく","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09d1","text":"\t\thttps://developer.1password.com/docs/vscode","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09d2","text":"\tVSC の拡張では、項目へのリンクを `op://` というフォーマットで渡してくれる","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09d3","text":"\t\tログインとかだと `op://Vault/{name}/username`, `op://Vault/{name}/password` であるが、違うパターンもあるので拡張があると簡単にリンクを書き出せてラク","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09d4","text":"\tcode:.env","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09d5","text":"\t KEY=\"op://...\"","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09d6","text":"\t SECRET=\"op://...\"","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09d7","text":"\tというようなファイルを用意してやって `op run --env-file=\"./.env\" -- node index.mjs` で環境変数が埋まった状態で [node] のプロセスに渡せる","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09d8","text":"\t\tしかも、ご丁寧に標準出力から機微情報をスクラブしてくれる！すげえ！","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09d9","text":"\t\tバイオメトリック認証をオンにしていると、[Apple Watch] ごしに認証も解除できるしサイコー","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09da","text":"\tしかしまあ、Copilot の文脈理解力がすごい。あんまり意識的に伝えようとしなくても、ドンズバのコードが [Tab] 打つだけで錬成されるのはもう戻れないぐらいの体験に感じる","created":1690682699,"updated":1690682699},{"id":"64c5c54e4ade4d00008d09db","text":"","created":1690682699,"updated":1690682699}]}