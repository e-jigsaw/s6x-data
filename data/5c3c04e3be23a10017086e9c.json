{"id":"5c3c04e3be23a10017086e9c","title":"fetch の今 - dev.jgs.me","image":null,"created":1448982000,"updated":1567767770,"lines":[{"id":"5c3c04e34ade4d0000c9ed14","text":"fetch の今 - dev.jgs.me","created":1448982000,"updated":1448982000},{"id":"5c3c04e34ade4d0000c9ed16","text":"[SPA] 作るときに [Ajax] が絡むときは Github の [fetch https://github.com/github/fetch] を使うようにしていたのだが、[Browserify] や [Webpack] でバンドルしようとするとそれが考慮されていないので死ぬ。","created":1448982000,"updated":1567767720},{"id":"5c3c04e34ade4d0000c9ed17","text":"","created":1448982000,"updated":1448982000},{"id":"5c3c04e34ade4d0000c9ed18","text":"そこで、[isomorphic-fetch https://github.com/matthew-andrews/isomorphic-fetch] を使いましょうという話だが、`require` し忘れたまま開発していたが [Chrome] だと [fetch] が既に実装されているので気付かないままだった。","created":1448982000,"updated":1567767731},{"id":"5c3c04e34ade4d0000c9ed19","text":"","created":1448982000,"updated":1448982000},{"id":"5c3c04e34ade4d0000c9ed1a","text":"モバイルの対応をするために [iOS] の [Safari] で確認してたときになぜかリクエストが発火してなかったので気付くに至った。一方、[iOS8] 以降であれば `Promise` は使えるようなので polyfill は使わなくてよかった。ただ、[Mobile Safari] だと `undefined` に文字列を食わせてるのにエラーが出なくて、気付くのが遅くなった。","created":1448982000,"updated":1567767748},{"id":"5c3c04e34ade4d0000c9ed1b","text":"","created":1448982000,"updated":1448982000},{"id":"5c3c04e34ade4d0000c9ed1c","text":"code: (livescript)","created":1448982000,"updated":1448982000},{"id":"5c3c04e34ade4d0000c9ed1d","text":" if fetch is undefined then fetch = require \\fetch","created":1448982000,"updated":1448982000},{"id":"5c3c04e34ade4d0000c9ed1e","text":"","created":1448982000,"updated":1448982000},{"id":"5c3c04e34ade4d0000c9ed1f","text":"と一行加えるだけだったんだけど、非対応ブラウザのために [polyfill] 載せるのもな...みたいな気分になって、動的ロードも考えたんだけど面倒だったのでバンドルすることにした。[ES6 modules] 早くきてくれ〜。","created":1448982000,"updated":1567767758},{"id":"5c3c04e34ade4d0000c9ed20","text":"","created":1448982000,"updated":1448982000},{"id":"5c3c04e34ade4d0000c9ed21","text":"他方で fetch は前述の通り Chrome では(for Andoid でも)使えるし [Firefox] でも使えるのだが、(Mobile でない方の) Safari は使えないし [Edge] でも使えないのは意外だった。","created":1448982000,"updated":1567767766},{"id":"5c3c04e34ade4d0000c9ed22","text":"","created":1448982000,"updated":1448982000},{"id":"5c3c04e34ade4d0000c9ed23","text":"[* original: http://dev.jgs.me/2015/12/02/fetch]","created":1448982000,"updated":1448982000},{"id":"5c3c04e34ade4d0000c9ed24","text":"#20151202 #1202","created":1448982000,"updated":1567767770},{"id":"5d723cd74ade4d00003edf22","text":"","created":1567767767,"updated":1567767767}]}